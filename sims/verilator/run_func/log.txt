CHIPLAB_HOME=/home/yangzhaoxin/workspace/git_work/lab/chiplab
ln -sf ../../../chip/config-generator.mak ./
echo linux 
linux
echo linux
linux
make -j verilator 
make[1]: Entering directory '/home/yangzhaoxin/workspace/git_work/lab/chiplab/sims/verilator/run_func'
=============================================================================================================
=============================================================================================================
COMPILING verilog...
=============================================================================================================
=============================================================================================================
mkdir -p log
mkdir -p ./obj_dir
verilator -y /home/yangzhaoxin/workspace/git_work/lab/chiplab/IP/myCPU  -y /home/yangzhaoxin/workspace/git_work/lab/chiplab/IP/CONFREG  -y /home/yangzhaoxin/workspace/git_work/lab/chiplab/IP/AXI_DELAY_RAND  -y /home/yangzhaoxin/workspace/git_work/lab/chiplab/IP/AXI_SRAM_BRIDGE  -y /home/yangzhaoxin/workspace/git_work/lab/chiplab/IP/AMBA -y /home/yangzhaoxin/workspace/git_work/lab/chiplab/IP/APB_DEV -y /home/yangzhaoxin/workspace/git_work/lab/chiplab/IP/APB_DEV/URT -y /home/yangzhaoxin/workspace/git_work/lab/chiplab/IP/APB_DEV/NAND -y ../testbench  -y /home/yangzhaoxin/workspace/git_work/lab/chiplab/chip/soc_demo/sim   --savable --threads 1 -O3 -Wno-fatal -DSIMU -DSIMULATION=1 -Wall --trace -cc  simu_top.v difftest.v /home/yangzhaoxin/workspace/git_work/lab/chiplab/IP/myCPU/*.v /home/yangzhaoxin/workspace/git_work/lab/chiplab/IP/CONFREG/confreg_sim.v /home/yangzhaoxin/workspace/git_work/lab/chiplab/IP/AXI_DELAY_RAND/*.v /home/yangzhaoxin/workspace/git_work/lab/chiplab/IP/AXI_SRAM_BRIDGE/*.v /home/yangzhaoxin/workspace/git_work/lab/chiplab/IP/AMBA/axi2apb.v /home/yangzhaoxin/workspace/git_work/lab/chiplab/IP/AMBA/axi_mux_sim.v /home/yangzhaoxin/workspace/git_work/lab/chiplab/IP/APB_DEV/apb_dev_top.v /home/yangzhaoxin/workspace/git_work/lab/chiplab/IP/APB_DEV/apb_mux2.v /home/yangzhaoxin/workspace/git_work/lab/chiplab/IP/APB_DEV/URT/*.v /home/yangzhaoxin/workspace/git_work/lab/chiplab/IP/APB_DEV/NAND/*.v 2>&1 | tee log/compile.log
make -C ./obj_dir -f "Vsimu_top.mk"
make[2]: Entering directory '/home/yangzhaoxin/workspace/git_work/lab/chiplab/sims/verilator/run_func/obj_dir'
make[2]: Nothing to be done for 'default'.
make[2]: Leaving directory '/home/yangzhaoxin/workspace/git_work/lab/chiplab/sims/verilator/run_func/obj_dir'
make[1]: Leaving directory '/home/yangzhaoxin/workspace/git_work/lab/chiplab/sims/verilator/run_func'
make testbench
make[1]: Entering directory '/home/yangzhaoxin/workspace/git_work/lab/chiplab/sims/verilator/run_func'
=============================================================================================================
=============================================================================================================
COMPILING testbench...
=============================================================================================================
=============================================================================================================
g++ -O3 -pthread -DCACHE_SEED=0 -DVL_THREADED -DRESET_VAL=0 -DRESET_SEED=1997 -std=c++11 -DWAVEFORM_SLICE_SIZE=10000 -DTRACE_SLICE_SIZE=100000 -DWAVEFORM_TAIL_SIZE=10000 -DTRACE_TAIL_SIZE=100000 -DRUN_C -DTRACE_COMP -DOUTPUT_UART_INFO -DPRINT_CLK_TIME -DDUMP_VCD  -I/home/yangzhaoxin/opt/verilator/share/verilator/include  -I/home/yangzhaoxin/opt/verilator/share/verilator/include/vltstd -I../testbench/include -I./obj_dir /home/yangzhaoxin/opt/verilator/share/verilator/include/verilated.cpp /home/yangzhaoxin/opt/verilator/share/verilator/include/verilated_threads.cpp  /home/yangzhaoxin/opt/verilator/share/verilator/include/verilated_vcd_c.cpp  /home/yangzhaoxin/opt/verilator/share/verilator/include/verilated_fst_c.cpp /home/yangzhaoxin/opt/verilator/share/verilator/include/verilated_save.cpp ../testbench/time_limit.cpp ../testbench/interface.cpp ../testbench/rand64.cpp ../testbench/emu.cpp ../testbench/nemuproxy.cpp ../testbench/devices.cpp ../testbench/uart.cpp ../testbench/common.cpp ../testbench/difftest.cpp ../testbench/ram.cpp ../testbench/sim_main.cpp ../testbench/testbench.cpp ../testbench/diff_manage.cpp ../testbench/cpu_tool.cpp ./obj_dir/*__ALL.a -o output -lz -ldl
make[1]: Leaving directory '/home/yangzhaoxin/workspace/git_work/lab/chiplab/sims/verilator/run_func'
make soft 
make[1]: Entering directory '/home/yangzhaoxin/workspace/git_work/lab/chiplab/sims/verilator/run_func'
=============================================================================================================
=============================================================================================================
COMPILING func...
=============================================================================================================
=============================================================================================================
make[2]: Entering directory '/home/yangzhaoxin/workspace/git_work/lab/chiplab/software/linux'
./script.sh
make[2]: Leaving directory '/home/yangzhaoxin/workspace/git_work/lab/chiplab/software/linux'
#+make golden_trace
make[1]: Leaving directory '/home/yangzhaoxin/workspace/git_work/lab/chiplab/sims/verilator/run_func'
make run
make[1]: Entering directory '/home/yangzhaoxin/workspace/git_work/lab/chiplab/sims/verilator/run_func'
=============================================================================================================
=============================================================================================================
RUN simulation...
=============================================================================================================
=============================================================================================================
make[2]: Entering directory '/home/yangzhaoxin/workspace/git_work/lab/chiplab/sims/verilator/run_func/tmp'
../output --simu-bus-delay --simu-bus-delay-random-seed 5570815  --dump-delay 0 --dump-trace 0 --time-limit 0 --save-bp-time 0 --ram-save-bp-file  --top-save-bp-file  --restore-bp-time 0 --ram-restore-bp-file  --top-restore-bp-file  --end-pc 1c000010 
abcdefghij
uart work!
[    0.000000] Linux version 5.14.0-rc2-00144-g55ee85cf8bdc-dirty (mengfanrui@5.5) (loongarch32-linux-gnu-gcc (GCC) 8.3.0, GNU ld (GNU Binutils) 2.31.1.20190122) #143 PREEMPT Tue Mar 29 11:33:13 CST 2022
[    0.000000] Standard 32-bit Loongson Processor probed
[    0.000000] file arch/loongarch/kernel/cpu-probe32.c, line 281, __ua_limit 80000000
[    0.000000] the link is empty!
[    0.000000] Scan bootparam failed
[    0.000000] printk: bootconsole [early0] enabled
[    0.000000] initrd start < PAGE_OFFSET
[    0.000000] Can't find EFI system table.
[    0.000000] start_pfn=0x0, end_pfn=0x8000, num_physpages:0x8000
[    0.000000] DMI not present or invalid.
[    0.000000] The BIOS Version: (null)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] CPU0 revision is: 00004200 (Loongson-32bit)
[    0.000000] Primary instruction cache 8kB, 2-way, VIPT, linesize 16 bytes.
[    0.000000] Primary data cache 8kB, 2-way, VIPT, no aliases, linesize 16 bytes
[    0.000000] Zone ranges:
[    0.000000]   DMA32    [mem 0x0000000000000000-0x00000000ffffffff]
[    0.000000]   Normal   empty
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x0000000000000000-0x0000000007ffffff]
[    0.000000] Initmem setup node 0 [mem 0x0000000000000000-0x0000000007ffffff]
[    0.000000] !!!!!!!!!!!!Eentry a0210000, Tlbrentry a0201000
[    0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
[    0.000000] pcpu-alloc: [0] 0 
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 32480
[    0.000000] Kernel command line: =/init loglevel=8
[    0.000000] Dentry cache hash table entries: 16384 (order: 4, 65536 bytes, linear)
